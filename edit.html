<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Domino Editor</title>
<style>
  body{
    background:#2c1a32; color:#fdf4ff; font:16px "Inter", sans-serif;
    display:flex; flex-direction:column; align-items:center; padding:20px; min-height:100vh
  }
  h1{color:#ffda8b; text-shadow:0 0 6px rgba(255,218,139,.7)}
  textarea{
    width:90%; max-width:600px; min-height:80px; margin:10px 0;
    padding:10px; border-radius:8px; border:2px solid #e6a8ff; background:#fffaf5; color:#2c1a32
  }
  label{margin:8px 0; display:flex; align-items:center; gap:6px}
  button{
    padding:12px 20px; border-radius:10px; border:none; background:#ffda8b;
    color:#2c1a32; cursor:pointer; font-weight:700; font-size:16px; margin:14px 0
  }
  #embedCodeBox{display:none; margin-top:20px; width:90%; max-width:700px}
  #embedCode{
    width:100%; min-height:100px; padding:10px; border-radius:8px; background:#1e1022; color:#ffda8b;
    font-family:monospace; font-size:14px
  }
</style>
</head>
<body>
  <h1>Domino ¬∑ Editor</h1>

  <p>–í–≤–µ–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ A (—Å–ª–æ–≤–∞ –∏–ª–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∏–ª–∏ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):</p>
  <textarea id="listA" placeholder="CAT, DOG, SUN, MOON"></textarea>

  <p>–í–≤–µ–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ B (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–ª–∏ —Å–ª–æ–≤–∞ –¥–ª—è –ø–∞—Ä, –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ):</p>
  <textarea id="listB" placeholder="üê±, üê∂, ‚òÄÔ∏è, üåô"></textarea>

  <label><input type="checkbox" id="freeMode"> –°–≤–æ–±–æ–¥–Ω–∞—è –∏–≥—Ä–∞ (–±–µ–∑ –ø—Ä–∞–≤–∏–ª)</label>

  <button id="generateBtn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å iframe</button>

  <div id="embedCodeBox">
    <p>–°–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ—Ç –∫–æ–¥ –∏ –≤—Å—Ç–∞–≤—å –≤ Genially:</p>
    <textarea id="embedCode" readonly></textarea>
  </div>

<script>
function cleanList(raw){
  return raw.split(/[\n,]+/).map(x=>x.trim()).filter(x=>x);
}
document.getElementById("generateBtn").addEventListener("click", ()=>{
  const A = cleanList(document.getElementById("listA").value);
  const B = cleanList(document.getElementById("listB").value);
  const freeMode = document.getElementById("freeMode").checked;

  if (!A.length){
    alert("–°–ø–∏—Å–æ–∫ A –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!");
    return;
  }

  const data = {listA:A, listB:B, freeMode:freeMode};
  const json = encodeURIComponent(JSON.stringify(data));

  // ‚ö° –º–µ–Ω—è–µ—à—å –ø—É—Ç—å –ø–æ–¥ —Å–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub Pages
  const url = `main.html?data=${json}`;

  const code = `<iframe src="${url}" width="960" height="540" style="border:0;" allowfullscreen></iframe>`;
  document.getElementById("embedCode").value = code;
  document.getElementById("embedCodeBox").style.display="block";
});
</script>
</body>
</html>
